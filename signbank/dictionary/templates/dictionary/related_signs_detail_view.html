{% extends 'baselayout.html' %}
{% load i18n %}
{% load stylesheet %}
{% load bootstrap3 %}

{% block extrahead %}
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/tagmanager.css">
{% endblock %}

{% block extrajs %}
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.jeditable.mini.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.jeditable.checkbox.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/typeahead.bundle.min.js"></script>

{% endblock %}


{% block content %}
{% url 'dictionary:protected_media' '' as protected_media_url %}

<a class='btn btn-default navbar-btn' href="{% url 'root_page' %}dictionary/gloss/{{gloss.id}}">{% trans "Detail View" %}</a>

{% if gloss.annotation_idgloss %}
<a class='btn btn-default navbar-btn' href="{% url 'root_page' %}dictionary/gloss/{{gloss.annotation_idgloss}}.html">{% trans "Public View" %}</a>
{% endif %}

<div  class="panel panel-default">

<table class='table table-condensed'>
    <thead>
      <tr>
          <th style="width:9em; color:darkred">{% trans "Source Sign" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th style="width:8em">{% trans "Handedness" %}</th>
           <th style="width:6em">{% trans "Strong hand" %}</th>
           <th style="width:6em">{% trans "Weak hand" %}</th>
           <th style="width:8em">{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
    </thead>
    <tbody>
      <tr>
          <td>{%if gloss.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{gloss.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{gloss.get_image_path}}">
              </a>
              </div>
              {% endif %}
            </td>
          <td id='src_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=gloss.id %}'>{% value gloss.annotation_idgloss %}</a></td>
          <td  id='src_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=gloss.id %}'>{% value gloss.annotation_idgloss_en %}</a></td>
          <td id='src_keywords'>{% for trn in gloss.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td  id='src_handedness'>{% value gloss.get_handedness_display %}</td>
          <td  id='src_domhndsh'>{% value gloss.get_domhndsh_display %}</td>
          <td  id='src_subhndsh'>{% value gloss.get_subhndsh_display %}</td>
          <td  id='src_locprim'>{% value gloss.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in gloss.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
    </tbody>



       <thead>
       {% if gloss.homonyms_count %}
       <tr>
           <th style="width:8em; color:darkred">{% trans "Homonyms" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th style="width:8em">{% trans "Handedness" %}</th>
           <th style="width:8em">{% trans "Strong hand" %}</th>
           <th style="width:8em">{% trans "Weak hand" %}</th>
           <th style="width:8em">{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
     {% endif %}
       </thead>
    <tbody>
     {% for rel in gloss.relation_sources.all %}
      {% if rel.role == "homonym" %}
      <tr>
            <td>{%if rel.target.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{rel.target.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{rel.target.get_image_path}}">
              </a>
              </div>
              {% endif %}
            </td>
          <td id='homo_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{{rel.target.annotation_idgloss}}</a></td>
          <td id='homo_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{% value rel.target.annotation_idgloss_en %}</a></td>
          <td id='homo_keywords'>{% for trn in rel.target.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td id='homo_handedness'>{% value rel.target.get_handedness_display %}</td>
          <td id='homo_domhndsh'>{% value rel.target.get_domhndsh_display %}</td>
          <td id='homo_subhndsh'>{% value rel.target.get_subhndsh_display %}</td>
          <td id='homo_locprim'>{% value rel.target.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in rel.target.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>

       <thead>
       {% if gloss.synonyms_count %}
       <tr>
           <th style="width:8em; color:darkred">{% trans "Synonyms" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th>{% trans "Handedness" %}</th>
           <th>{% trans "Strong hand" %}</th>
           <th>{% trans "Weak hand" %}</th>
           <th>{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
     {% endif %}
     </thead>
    <tbody>
     {% for rel in gloss.relation_sources.all %}
      {% if rel.role == "synonym" %}
      <tr>
             <td>{%if rel.target.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{rel.target.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{rel.target.get_image_path}}">
              </a>
              </div>
              {% endif %}
            </td>
          <td id='syno_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{{rel.target.annotation_idgloss}}</a></td>
          <td id='syno_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{% value rel.target.annotation_idgloss_en %}</a></td>
          <td id='syno_keywords'>{% for trn in rel.target.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td id='syno_handedness'>{% value rel.target.get_handedness_display %}</td>
          <td id='syno_domhndsh'>{% value rel.target.get_domhndsh_display %}</td>
          <td id='syno_subhndsh'>{% value rel.target.get_subhndsh_display %}</td>
          <td id='syno_locprim'>{% value rel.target.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in rel.target.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>

    <thead>
       {% if gloss.antonyms_count %}
       <tr>
           <th style="width:8em; color:darkred">{% trans "Antonyms" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th>{% trans "Handedness" %}</th>
           <th>{% trans "Strong hand" %}</th>
           <th>{% trans "Weak hand" %}</th>
           <th>{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
     {% endif %}
    </thead>
    <tbody>
     {% for rel in gloss.relation_sources.all %}
      {% if rel.role == "antonym" %}
      <tr>
          <td>{%if rel.target.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{rel.target.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{rel.target.get_image_path}}">
              </a>
              </div>
              {% endif %}
          </td>
          <td id='anto_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{{rel.target.annotation_idgloss}}</a></td>
          <td id='anto_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{% value rel.target.annotation_idgloss_en %}</a></td>
          <td id='anto_keywords'>{% for trn in rel.target.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td id='anto_handedness'>{% value rel.target.get_handedness_display %}</td>
          <td id='anto_domhndsh'>{% value rel.target.get_domhndsh_display %}</td>
          <td id='anto_subhndsh'>{% value rel.target.get_subhndsh_display %}</td>
          <td id='anto_locprim'>{% value rel.target.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in rel.target.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>

    <thead>
       {% if gloss.hyponyms_count %}
        <tr>
            <th style="width:8em; color:darkred">{% trans "Hyponyms" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th>{% trans "Handedness" %}</th>
           <th>{% trans "Strong hand" %}</th>
           <th>{% trans "Weak hand" %}</th>
           <th>{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
     {% endif %}
    </thead>
    <tbody>
     {% for rel in gloss.relation_sources.all %}
      {% if rel.role == "hyponym" %}
      <tr>
          <td>{%if rel.target.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{rel.target.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{rel.target.get_image_path}}">
              </a>
              </div>
              {% endif %}
          </td>
          <td id='hypo_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{{rel.target.annotation_idgloss}}</a></td>
          <td id='hypo_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{% value rel.target.annotation_idgloss_en %}</a></td>
          <td id='hypo_keywords'>{% for trn in rel.target.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td id='hypo_handedness'>{% value rel.target.get_handedness_display %}</td>
          <td id='hypo_domhndsh'>{% value rel.target.get_domhndsh_display %}</td>
          <td id='hypo_subhndsh'>{% value rel.target.get_subhndsh_display %}</td>
          <td id='hypo_locprim'>{% value rel.target.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in rel.target.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>

    <thead>
       {% if gloss.hypernyms_count %}
        <tr>
           <th style="width:8em; color:darkred">{% trans "Hypernyms" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th>{% trans "Handedness" %}</th>
           <th>{% trans "Strong hand" %}</th>
           <th>{% trans "Weak hand" %}</th>
           <th>{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
     {% endif %}
    </thead>
    <tbody>
     {% for rel in gloss.relation_sources.all %}
      {% if rel.role == "hypernym" %}
      <tr>
          <td>{%if rel.target.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{rel.target.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{rel.target.get_image_path}}">
              </a>
              </div>
              {% endif %}
          </td>
          <td id='hyper_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{{rel.target.annotation_idgloss}}</a></td>
          <td id='hyper_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{% value rel.target.annotation_idgloss_en %}</a></td>
          <td id='hyper_keywords'>{% for trn in rel.target.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td id='hyper_handedness'>{% value rel.target.get_handedness_display %}</td>
          <td id='hyper_domhndsh'>{% value rel.target.get_domhndsh_display %}</td>
          <td id='hyper_subhndsh'>{% value rel.target.get_subhndsh_display %}</td>
          <td id='hyper_locprim'>{% value rel.target.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in rel.target.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>

    <thead>
       {% if gloss.seealso_count %}
        <tr>
           <th style="width:8em; color:darkred">{% trans "See Also" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th>{% trans "Handedness" %}</th>
           <th>{% trans "Strong hand" %}</th>
           <th>{% trans "Weak hand" %}</th>
           <th>{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
     {% endif %}
    </thead>
    <tbody>
     {% for rel in gloss.relation_sources.all %}
      {% if rel.role == "seealso" %}
      <tr>
          <td>{%if rel.target.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{rel.target.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{rel.target.get_image_path}}">
              </a>
              </div>
              {% endif %}
          </td>
          <td id='seealso_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{{rel.target.annotation_idgloss}}</a></td>
          <td id='seealso_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=rel.target.pk %}'>{% value rel.target.annotation_idgloss_en %}</a></td>
          <td id='seealso_keywords'>{% for trn in rel.target.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td id='seealso_handedness'>{% value rel.target.get_handedness_display %}</td>
          <td id='seealso_domhndsh'>{% value rel.target.get_domhndsh_display %}</td>
          <td id='seealso_subhndsh'>{% value rel.target.get_subhndsh_display %}</td>
          <td id='seealso_locprim'>{% value rel.target.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in rel.target.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>

    <thead>
       {% if gloss.variant_count %}
       <tr>
           <th style="width:8em; color:darkred">{% trans "Variants" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th>{% trans "Handedness" %}</th>
           <th>{% trans "Strong hand" %}</th>
           <th>{% trans "Weak hand" %}</th>
           <th>{% trans "Location" %}</th>
           <th style='width:12em'>{% trans "Tags" %}</th>
      </tr>
     {% endif %}
       </thead>
    <tbody>
     {% for gl in gloss.has_variants %}
      <tr>
          <td>{%if gl.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{gl.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{gl.get_image_path}}">
              </a>
              </div>
              {% endif %}
          </td>
          <td id='var_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=gl.id %}'>{{gl.annotation_idgloss}}</a></td>
          <td id='var_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=gl.id %}'>{% value gl.annotation_idgloss_en %}</a></td>
          <td id='var_keywords'>{% for trn in gl.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td id='var_handedness'>{% value gl.get_handedness_display %}</td>
          <td id='var_domhndsh'>{% value gl.get_domhndsh_display %}</td>
          <td id='var_subhndsh'>{% value gl.get_subhndsh_display %}</td>
          <td id='var_locprim'>{% value gl.get_locprim_display %}</td>
          {% load underscore_to_space %}
          <td>{% for tag in gl.tags %}<span class='tag'>{{tag.name|underscore_to_space}}</span> {% endfor %}</td>
      </tr>
      {% endfor %}
    </tbody>
    {% with gloss.minimal_pairs_dict as mpd %}
    {% if mpd.0 %}
    <thead>
       <tr>
           <th style="width:8em; color:darkred">{% trans "Minimal Pairs" %}</th>

           <th style='width:12em'>{% trans "Annotation ID gloss: Dutch" %}</th>

            {% if SEPARATE_ENGLISH_IDGLOSS_FIELD %}
           <th style='width:12em'>{% trans "Annotation ID gloss: English" %}</th>
            {% endif %}

           <th style='width:12em'>{% trans "Translation equivalents" %}</th>
           <th style="width:20em" colspan="3">{% trans "Field name" %}</th>
           <th style="width:20em" colspan="2">{% trans "Value" %}</th>

       </tr>
    </thead>
    <tbody>
     {% for gl,dict in mpd.0.items %}
		<tr>
          <td>{%if gl.get_image_path != None %}
              <div class="thumbnail_container">
              <a href="{{ URL }}/dictionary/gloss/{{gl.pk}}/">
                  <img class="thumbnail {% if CROP_GLOSS_IMAGES %}cropped_thumbnail{% endif %}" src="{{protected_media_url}}{{gl.get_image_path}}">
              </a>
              </div>
              {% endif %}
          </td>
          <td id='mp_idgloss'><a href='{% url "dictionary:admin_gloss_view" pk=gl.id %}'>{{ gl.annotation_idgloss }}</a></td>
          <td id='mp_annotation_idgloss_en'><a href='{% url "dictionary:admin_gloss_view" pk=gl.id %}'>{% value gl.annotation_idgloss_en %}</a></td>
          <td id='mp_keywords'>{% for trn in gl.translation_set.all %}{{ trn.translation.text|safe }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>

            {% for k,d in dict.items %}
                <td colspan="3">{{ d.0 }}</td>
                <td colspan="2">{{ d.1 }}</td>
            {% endfor %}
        </tr>
     {% endfor %}
    </tbody>

     {% endif %}
     {% endwith %}

</table>

</div>

{% endblock %}
